"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9907],{18899:function(V,y,e){e.r(y),e.d(y,{default:function(){return Q}});var l=e(5574),v=e.n(l),P=e(35312),_=e(8232),D=e(34041),B=e(2453),W=e(38703),O=e(55102),A=e(55241),Z=e(78957),u=e(71230),n=e(15746),i=e(14726),r=e(67294),d=e(15009),c=e.n(d),a=e(99289),p=e.n(a);function m(I){return o.apply(this,arguments)}function o(){return o=p()(c()().mark(function I(C){return c()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",(0,P.request)("/api/register",{method:"POST",data:C}));case 1:case"end":return S.stop()}},I)})),o.apply(this,arguments)}var g=e(98257),R=(0,g.kc)(function(I){var C=I.token;return{main:{width:"368px",margin:"0 auto",h3:{marginBottom:"20px",fontSize:"16px"}},password:{marginBottom:"24px",".ant-form-item-explain":{display:"none"}},getCaptcha:{display:"block",width:"100%"},footer:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},submit:{width:"50%"},success:{transition:"color 0.3s",color:C.colorSuccess},warning:{transition:"color 0.3s",color:C.colorWarning},error:{transition:"color 0.3s",color:C.colorError},"progress-pass > .progress":{".ant-progress-bg":{backgroundColor:C.colorWarning}}}}),M=R,t=e(85893),E=_.Z.Item,j=D.Z.Option,L={ok:"success",pass:"normal",poor:"exception"},J=function(){var C=M(),f=C.styles,S=(0,r.useState)(0),w=v()(S,2),U=w[0],G=w[1],k=(0,r.useState)(!1),H=v()(k,2),F=H[0],X=H[1],q=(0,r.useState)("86"),z=v()(q,2),ee=z[0],te=z[1],x=(0,r.useState)(!1),N=v()(x,2),b=N[0],oe=N[1],ae=!1,Y,se={ok:(0,t.jsx)("div",{className:f.success,children:(0,t.jsx)("span",{children:"Fuerza\uFF1Afuerte"})}),pass:(0,t.jsx)("div",{className:f.warning,children:(0,t.jsx)("span",{children:"Fuerza: Media"})}),poor:(0,t.jsx)("div",{className:f.error,children:(0,t.jsx)("span",{children:"Fuerza: demasiado corta"})})},le=_.Z.useForm(),ie=v()(le,1),$=ie[0];(0,r.useEffect)(function(){return function(){clearInterval(Y)}},[Y]);var ce=function(){var s=59;G(s),Y=window.setInterval(function(){s-=1,G(s),s===0&&clearInterval(Y)},1e3)},ne=function(){var s=$.getFieldValue("password");return s&&s.length>9?"ok":s&&s.length>5?"pass":"poor"},re=(0,P.useRequest)(m,{manual:!0,onSuccess:function(s,h){s.status==="ok"&&(B.ZP.success("\xA1registraci\xF3n exitosa!"),P.history.push({pathname:"/user/register-result?account=".concat(h[0].email)}))}}),de=re.loading,ue=re.run,me=function(s){ue(s)},pe=function(s,h){var K=Promise;return h&&h!==$.getFieldValue("password")?K.reject("\xA1Las contrase\xF1as ingresadas dos veces no coinciden!"):K.resolve()},ve=function(s,h){var K=Promise;return h?(F||X(!!h),oe(!b),h.length<6?K.reject(""):(h&&ae&&$.validateFields(["confirm"]),K.resolve())):(X(!!h),K.reject("\xA1Por favor, ingrese contrase\xF1a!"))},ge=function(s){te(s)},fe=function(){var s=$.getFieldValue("password"),h=ne();return s&&s.length?(0,t.jsx)("div",{className:f["progress-".concat(h)],children:(0,t.jsx)(W.Z,{status:L[h],strokeWidth:6,percent:s.length*10>100?100:s.length*10,showInfo:!1})}):null};return(0,t.jsxs)("div",{className:f.main,children:[(0,t.jsx)("h3",{children:"Registro"}),(0,t.jsxs)(_.Z,{form:$,name:"UserRegister",onFinish:me,children:[(0,t.jsx)(E,{name:"email",rules:[{required:!0,message:"\xA1Por favor ingrese la direcci\xF3n de correo electr\xF3nico!"},{type:"email",message:"\xA1El formato de la direcci\xF3n de correo electr\xF3nico es incorrecto!"}],children:(0,t.jsx)(O.Z,{size:"large",placeholder:"E-Mail"})}),(0,t.jsx)(A.Z,{getPopupContainer:function(s){return s&&s.parentNode?s.parentNode:s},content:F&&(0,t.jsxs)("div",{style:{padding:"4px 0"},children:[se[ne()],fe(),(0,t.jsx)("div",{style:{marginTop:10},children:(0,t.jsx)("span",{children:"Por favor ingrese al menos 6 caracteres. No utilice contrase\xF1as que sean f\xE1ciles de adivinar."})})]}),overlayStyle:{width:240},placement:"right",open:F,children:(0,t.jsxs)(E,{name:"password",className:$.getFieldValue("password")&&$.getFieldValue("password").length>0&&f.password,rules:[{validator:ve}],children:[(0,t.jsx)(O.Z,{size:"large",type:"password",placeholder:"Contrasena: 6 caracteres"})," // Distinge mayusculas"]})}),(0,t.jsx)(E,{name:"confirm",rules:[{required:!0,message:"Confirmar contrasenas"},{validator:pe}],children:(0,t.jsx)(O.Z,{size:"large",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801"})}),(0,t.jsx)(E,{name:"mobile",rules:[{required:!0,message:"Ingresa el numero de telefono!"},{pattern:/^\d{11}$/,message:"Numero de telefono mal formado!"}],children:(0,t.jsxs)(Z.Z.Compact,{style:{width:"100%"},children:[(0,t.jsxs)(D.Z,{size:"large",value:ee,onChange:ge,style:{width:"30%"},children:[(0,t.jsx)(j,{value:"86",children:"+86"}),(0,t.jsx)(j,{value:"87",children:"+87"})]}),(0,t.jsx)(O.Z,{size:"large",placeholder:"Numero de telefono"})]})}),(0,t.jsxs)(u.Z,{gutter:8,children:[(0,t.jsx)(n.Z,{span:16,children:(0,t.jsx)(E,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801!"}],children:(0,t.jsx)(O.Z,{size:"large",placeholder:"\xA1Por favor ingrese el c\xF3digo de verificaci\xF3n!"})})}),(0,t.jsx)(n.Z,{span:8,children:(0,t.jsx)(i.ZP,{size:"large",disabled:!!U,className:f.getCaptcha,onClick:ce,children:U?"".concat(U," s"):"obtener c\xF3digo de verificaci\xF3n"})})]}),(0,t.jsx)(E,{children:(0,t.jsxs)("div",{className:f.footer,children:[(0,t.jsx)(i.ZP,{size:"large",loading:de,className:f.submit,type:"primary",htmlType:"submit",children:(0,t.jsx)("span",{children:"Registro"})}),(0,t.jsx)(P.Link,{to:"/user/login",children:(0,t.jsx)("span",{children:"Iniciar sesi\xF3n usando una cuenta existente"})})]})})]})]})},Q=J},81643:function(V,y,e){e.d(y,{Z:function(){return l}});const l=v=>v?typeof v=="function"?v():v:null},66330:function(V,y,e){var l=e(67294),v=e(93967),P=e.n(v),_=e(92419),D=e(81643),B=e(53124),W=e(20136),O=function(n,i){var r={};for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&i.indexOf(d)<0&&(r[d]=n[d]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,d=Object.getOwnPropertySymbols(n);c<d.length;c++)i.indexOf(d[c])<0&&Object.prototype.propertyIsEnumerable.call(n,d[c])&&(r[d[c]]=n[d[c]]);return r};const A=(n,i,r)=>!i&&!r?null:l.createElement(l.Fragment,null,i&&l.createElement("div",{className:`${n}-title`},(0,D.Z)(i)),l.createElement("div",{className:`${n}-inner-content`},(0,D.Z)(r))),Z=n=>{const{hashId:i,prefixCls:r,className:d,style:c,placement:a="top",title:p,content:m,children:o}=n;return l.createElement("div",{className:P()(i,r,`${r}-pure`,`${r}-placement-${a}`,d),style:c},l.createElement("div",{className:`${r}-arrow`}),l.createElement(_.G,Object.assign({},n,{className:i,prefixCls:r}),o||A(r,p,m)))},u=n=>{const{prefixCls:i,className:r}=n,d=O(n,["prefixCls","className"]),{getPrefixCls:c}=l.useContext(B.E_),a=c("popover",i),[p,m,o]=(0,W.Z)(a);return p(l.createElement(Z,Object.assign({},d,{prefixCls:a,hashId:m,className:P()(r,o)})))};y.ZP=u},55241:function(V,y,e){var l=e(67294),v=e(93967),P=e.n(v),_=e(21770),D=e(15105),B=e(81643),W=e(33603),O=e(96159),A=e(53124),Z=e(83062),u=e(66330),n=e(20136),i=function(a,p){var m={};for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&p.indexOf(o)<0&&(m[o]=a[o]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,o=Object.getOwnPropertySymbols(a);g<o.length;g++)p.indexOf(o[g])<0&&Object.prototype.propertyIsEnumerable.call(a,o[g])&&(m[o[g]]=a[o[g]]);return m};const r=a=>{let{title:p,content:m,prefixCls:o}=a;return l.createElement(l.Fragment,null,p&&l.createElement("div",{className:`${o}-title`},(0,B.Z)(p)),l.createElement("div",{className:`${o}-inner-content`},(0,B.Z)(m)))},c=l.forwardRef((a,p)=>{var m,o;const{prefixCls:g,title:R,content:M,overlayClassName:t,placement:E="top",trigger:j="hover",children:L,mouseEnterDelay:J=.1,mouseLeaveDelay:Q=.1,onOpenChange:I,overlayStyle:C={}}=a,f=i(a,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:S}=l.useContext(A.E_),w=S("popover",g),[U,G,k]=(0,n.Z)(w),H=S(),F=P()(t,G,k),[X,q]=(0,_.Z)(!1,{value:(m=a.open)!==null&&m!==void 0?m:a.visible,defaultValue:(o=a.defaultOpen)!==null&&o!==void 0?o:a.defaultVisible}),z=(x,N)=>{q(x,!0),I==null||I(x,N)},ee=x=>{x.keyCode===D.Z.ESC&&z(!1,x)},te=x=>{z(x)};return U(l.createElement(Z.Z,Object.assign({placement:E,trigger:j,mouseEnterDelay:J,mouseLeaveDelay:Q,overlayStyle:C},f,{prefixCls:w,overlayClassName:F,ref:p,open:X,onOpenChange:te,overlay:R||M?l.createElement(r,{prefixCls:w,title:R,content:M}):null,transitionName:(0,W.m)(H,"zoom-big",f.transitionName),"data-popover-inject":!0}),(0,O.Tm)(L,{onKeyDown:x=>{var N,b;l.isValidElement(L)&&((b=L==null?void 0:(N=L.props).onKeyDown)===null||b===void 0||b.call(N,x)),ee(x)}})))});c._InternalPanelDoNotUseOrYouWillBeFired=u.ZP,y.Z=c},20136:function(V,y,e){var l=e(14747),v=e(50438),P=e(97414),_=e(79511),D=e(8796),B=e(56023),W=e(45503);const O=u=>{const{componentCls:n,popoverColor:i,titleMinWidth:r,fontWeightStrong:d,innerPadding:c,boxShadowSecondary:a,colorTextHeading:p,borderRadiusLG:m,zIndexPopup:o,titleMarginBottom:g,colorBgElevated:R,popoverBg:M,titleBorderBottom:t,innerContentPadding:E,titlePadding:j}=u;return[{[n]:Object.assign(Object.assign({},(0,l.Wf)(u)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:o,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","--antd-arrow-background-color":R,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{backgroundColor:M,backgroundClip:"padding-box",borderRadius:m,boxShadow:a,padding:c},[`${n}-title`]:{minWidth:r,marginBottom:g,color:p,fontWeight:d,borderBottom:t,padding:j},[`${n}-inner-content`]:{color:i,padding:E}})},(0,P.ZP)(u,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:u.sizePopupArrow,display:"inline-block",[`${n}-content`]:{display:"inline-block"}}}]},A=u=>{const{componentCls:n}=u;return{[n]:D.i.map(i=>{const r=u[`${i}6`];return{[`&${n}-${i}`]:{"--antd-arrow-background-color":r,[`${n}-inner`]:{backgroundColor:r},[`${n}-arrow`]:{background:"transparent"}}}})}},Z=u=>{const{lineWidth:n,controlHeight:i,fontHeight:r,padding:d,wireframe:c,zIndexPopupBase:a,borderRadiusLG:p,marginXS:m,lineType:o,colorSplit:g,paddingSM:R}=u,M=i-r,t=M/2,E=M/2-n,j=d;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:a+30},(0,_.w)(u)),(0,P.wZ)({contentRadius:p,limitVerticalRadius:!0})),{innerPadding:c?0:12,titleMarginBottom:c?0:m,titlePadding:c?`${t}px ${j}px ${E}px`:0,titleBorderBottom:c?`${n}px ${o} ${g}`:"none",innerContentPadding:c?`${R}px ${j}px`:0})};y.Z=(0,B.I$)("Popover",u=>{const{colorBgElevated:n,colorText:i}=u,r=(0,W.TS)(u,{popoverBg:n,popoverColor:i});return[O(r),A(r),(0,v._y)(r,"zoom-big")]},Z,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]})}}]);
