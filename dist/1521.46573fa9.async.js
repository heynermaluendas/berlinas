"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1521],{34994:function(be,ve,e){e.d(ve,{A:function(){return R}});var v=e(1413),a=e(8232),x=e(67294),z=e(78733),te=e(9105),W=e(4942),Q=e(97685),re=e(87462),me=e(50756),fe=e(46976),w=function(p,E){return x.createElement(fe.Z,(0,re.Z)({},p,{ref:E,icon:me.Z}))},k=x.forwardRef(w),b=k,pe=e(21770),he=e(86333),oe=e(28459),I=e(78957),ge=e(93967),D=e.n(ge),P=e(66758),j=e(2514),xe=e(98082),q=function(p){return(0,W.Z)({},p.componentCls,{"&-title":{marginBlockEnd:p.marginXL,fontWeight:"bold"},"&-container":(0,W.Z)({flexWrap:"wrap",maxWidth:"100%"},"> div".concat(p.antCls,"-space-item"),{maxWidth:"100%"}),"&-twoLine":(0,W.Z)((0,W.Z)((0,W.Z)((0,W.Z)({display:"block",width:"100%"},"".concat(p.componentCls,"-title"),{width:"100%",margin:"8px 0"}),"".concat(p.componentCls,"-container"),{paddingInlineStart:16}),"".concat(p.antCls,"-space-item,").concat(p.antCls,"-form-item"),{width:"100%"}),"".concat(p.antCls,"-form-item"),{"&-control":{display:"flex",alignItems:"center",justifyContent:"flex-end","&-input":{alignItems:"center",justifyContent:"flex-end","&-content":{flex:"none"}}}})})};function o(f){return(0,xe.Xj)("ProFormGroup",function(p){var E=(0,v.Z)((0,v.Z)({},p),{},{componentCls:".".concat(f)});return[q(E)]})}var m=e(85893),T=x.forwardRef(function(f,p){var E=x.useContext(P.Z),O=E.groupProps,y=(0,v.Z)((0,v.Z)({},O),f),Pe=y.children,ae=y.collapsible,$e=y.defaultCollapsed,Ze=y.style,Ee=y.labelLayout,ie=y.title,i=ie===void 0?f.label:ie,c=y.tooltip,n=y.align,Z=n===void 0?"start":n,C=y.direction,H=y.size,A=H===void 0?32:H,_=y.titleStyle,je=y.titleRender,t=y.spaceProps,h=y.extra,$=y.autoFocus,X=(0,pe.Z)(function(){return $e||!1},{value:f.collapsed,onChange:f.onCollapse}),S=(0,Q.Z)(X,2),L=S[0],ye=S[1],N=(0,x.useContext)(oe.ZP.ConfigContext),Ne=N.getPrefixCls,Me=(0,j.zx)(f),ee=Me.ColWrapper,Ie=Me.RowWrapper,B=Ne("pro-form-group"),G=o(B),V=G.wrapSSR,le=G.hashId,Ce=ae&&(0,m.jsx)(b,{style:{marginInlineEnd:8},rotate:L?void 0:90}),F=(0,m.jsx)(he.G,{label:Ce?(0,m.jsxs)("div",{children:[Ce,i]}):i,tooltip:c}),Se=(0,x.useCallback)(function(J){var K=J.children;return(0,m.jsx)(I.Z,(0,v.Z)((0,v.Z)({},t),{},{className:D()("".concat(B,"-container ").concat(le),t==null?void 0:t.className),size:A,align:Z,direction:C,style:(0,v.Z)({rowGap:0},t==null?void 0:t.style),children:K}))},[Z,B,C,le,A,t]),De=je?je(F,f):F,Le=(0,x.useMemo)(function(){var J=[],K=x.Children.toArray(Pe).map(function(u,ce){var ne;return x.isValidElement(u)&&u!==null&&u!==void 0&&(ne=u.props)!==null&&ne!==void 0&&ne.hidden?(J.push(u),null):ce===0&&x.isValidElement(u)&&$?x.cloneElement(u,(0,v.Z)((0,v.Z)({},u.props),{},{autoFocus:$})):u});return[(0,m.jsx)(Ie,{Wrapper:Se,children:K},"children"),J.length>0?(0,m.jsx)("div",{style:{display:"none"},children:J}):null]},[Pe,Ie,Se,$]),Y=(0,Q.Z)(Le,2),ue=Y[0],U=Y[1];return V((0,m.jsx)(ee,{children:(0,m.jsxs)("div",{className:D()(B,le,(0,W.Z)({},"".concat(B,"-twoLine"),Ee==="twoLine")),style:Ze,ref:p,children:[U,(i||c||h)&&(0,m.jsx)("div",{className:"".concat(B,"-title ").concat(le).trim(),style:_,onClick:function(){ye(!L)},children:h?(0,m.jsxs)("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[De,(0,m.jsx)("span",{onClick:function(K){return K.stopPropagation()},children:h})]}):De}),(0,m.jsx)("div",{style:{display:ae&&L?"none":void 0},children:ue})]})}))});T.displayName="ProForm-Group";var se=T,l=e(4499);function R(f){return(0,m.jsx)(z.I,(0,v.Z)({layout:"vertical",contentRender:function(E,O){return(0,m.jsxs)(m.Fragment,{children:[E,O]})}},f))}R.Group=se,R.useForm=a.Z.useForm,R.Item=l.Z,R.useWatch=a.Z.useWatch,R.ErrorList=a.Z.ErrorList,R.Provider=a.Z.Provider,R.useFormInstance=a.Z.useFormInstance,R.EditOrReadOnlyContext=te.A},38020:function(be,ve,e){e.d(ve,{U9:function(){return Ze},L0:function(){return ie},bg:function(){return ae}});var v=e(4942),a=e(1413),x=e(74165),z=e(15861),te=e(74902),W=e(97685),Q=e(91),re=e(10915),me=e(92210),fe=e(1977),w=e(48171),k=e(71230),b=e(15746),pe=e(28459),he=e(67159),oe=e(42119),I=e(14726),ge=e(78957),D=e(8232),P=e(93967),j=e.n(P),xe=e(50344),q=e(21770),o=e(67294),m=e(97435),T=e(80334),se=e(78733),l=e(85893),R=["onFinish","step","formRef","title","stepProps"];function f(i){var c=(0,o.useRef)(),n=(0,o.useContext)(ae),Z=(0,o.useContext)(Ze),C=(0,a.Z)((0,a.Z)({},i),Z),H=C.onFinish,A=C.step,_=C.formRef,je=C.title,t=C.stepProps,h=(0,Q.Z)(C,R);return(0,T.ET)(!h.submitter,"StepForm \u4E0D\u5305\u542B\u63D0\u4EA4\u6309\u94AE\uFF0C\u8BF7\u5728 StepsForm \u4E0A"),(0,o.useImperativeHandle)(_,function(){return c.current},[_==null?void 0:_.current]),(0,o.useEffect)(function(){if(C.name||C.step){var $=(C.name||C.step).toString();return n==null||n.regForm($,C),function(){n==null||n.unRegForm($)}}},[]),n&&n!==null&&n!==void 0&&n.formArrayRef&&(n.formArrayRef.current[A||0]=c),(0,l.jsx)(se.I,(0,a.Z)({formRef:c,onFinish:function(){var $=(0,z.Z)((0,x.Z)().mark(function X(S){var L;return(0,x.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(h.name&&(n==null||n.onFormFinish(h.name,S)),!H){N.next=9;break}return n==null||n.setLoading(!0),N.next=5,H==null?void 0:H(S);case 5:return L=N.sent,L&&(n==null||n.next()),n==null||n.setLoading(!1),N.abrupt("return");case 9:n!=null&&n.lastStep||n==null||n.next();case 10:case"end":return N.stop()}},X)}));return function(X){return $.apply(this,arguments)}}(),onInit:function(X,S){var L;c.current=S,n&&n!==null&&n!==void 0&&n.formArrayRef&&(n.formArrayRef.current[A||0]=c),h==null||(L=h.onInit)===null||L===void 0||L.call(h,X,S)},layout:"vertical"},(0,m.Z)(h,["layoutType","columns"])))}var p=f,E=e(98082),O=function(c){return(0,v.Z)({},c.componentCls,{"&-container":{width:"max-content",minWidth:"420px",maxWidth:"100%",margin:"auto"},"&-steps-container":(0,v.Z)({maxWidth:"1160px",margin:"auto"},"".concat(c.antCls,"-steps-vertical"),{height:"100%"}),"&-step":{display:"none",marginBlockStart:"32px","&-active":{display:"block"},"> form":{maxWidth:"100%"}}})};function y(i){return(0,E.Xj)("StepsForm",function(c){var n=(0,a.Z)((0,a.Z)({},c),{},{componentCls:".".concat(i)});return[O(n)]})}var Pe=["current","onCurrentChange","submitter","stepsFormRender","stepsRender","stepFormRender","stepsProps","onFinish","formProps","containerStyle","formRef","formMapRef","layoutRender"],ae=o.createContext(void 0),$e={horizontal:function(c){var n=c.stepsDom,Z=c.formDom;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(k.Z,{gutter:{xs:8,sm:16,md:24},children:(0,l.jsx)(b.Z,{span:24,children:n})}),(0,l.jsx)(k.Z,{gutter:{xs:8,sm:16,md:24},children:(0,l.jsx)(b.Z,{span:24,children:Z})})]})},vertical:function(c){var n=c.stepsDom,Z=c.formDom;return(0,l.jsxs)(k.Z,{align:"stretch",wrap:!0,gutter:{xs:8,sm:16,md:24},children:[(0,l.jsx)(b.Z,{xxl:4,xl:6,lg:7,md:8,sm:10,xs:12,children:o.cloneElement(n,{style:{height:"100%"}})}),(0,l.jsx)(b.Z,{children:(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"100%"},children:Z})})]})}},Ze=o.createContext(null);function Ee(i){var c=(0,o.useContext)(pe.ZP.ConfigContext),n=c.getPrefixCls,Z=n("pro-steps-form"),C=y(Z),H=C.wrapSSR,A=C.hashId,_=i.current,je=i.onCurrentChange,t=i.submitter,h=i.stepsFormRender,$=i.stepsRender,X=i.stepFormRender,S=i.stepsProps,L=i.onFinish,ye=i.formProps,N=i.containerStyle,Ne=i.formRef,Me=i.formMapRef,ee=i.layoutRender,Ie=(0,Q.Z)(i,Pe),B=(0,o.useRef)(new Map),G=(0,o.useRef)(new Map),V=(0,o.useRef)([]),le=(0,o.useState)([]),Ce=(0,W.Z)(le,2),F=Ce[0],Se=Ce[1],De=(0,o.useState)(!1),Le=(0,W.Z)(De,2),Y=Le[0],ue=Le[1],U=(0,re.YB)(),J=(0,q.Z)(0,{value:i.current,onChange:i.onCurrentChange}),K=(0,W.Z)(J,2),u=K[0],ce=K[1],ne=(0,o.useMemo)(function(){return $e[(S==null?void 0:S.direction)||"horizontal"]},[S==null?void 0:S.direction]),Te=(0,o.useMemo)(function(){return u===F.length-1},[F.length,u]),Ye=(0,o.useCallback)(function(r,s){G.current.has(r)||Se(function(g){return[].concat((0,te.Z)(g),[r])}),G.current.set(r,s)},[]),Ue=(0,o.useCallback)(function(r){Se(function(s){return s.filter(function(g){return g!==r})}),G.current.delete(r),B.current.delete(r)},[]);(0,o.useImperativeHandle)(Me,function(){return V.current},[V.current]),(0,o.useImperativeHandle)(Ne,function(){var r;return(r=V.current[u||0])===null||r===void 0?void 0:r.current},[u,V.current]);var Ke=(0,o.useCallback)(function(){var r=(0,z.Z)((0,x.Z)().mark(function s(g,d){var Fe,Ae;return(0,x.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(B.current.set(g,d),!(!Te||!L)){M.next=3;break}return M.abrupt("return");case 3:return ue(!0),Fe=me.T.apply(void 0,[{}].concat((0,te.Z)(Array.from(B.current.values())))),M.prev=5,M.next=8,L(Fe);case 8:Ae=M.sent,Ae&&(ce(0),V.current.forEach(function(ke){var Ve;return(Ve=ke.current)===null||Ve===void 0?void 0:Ve.resetFields()})),M.next=15;break;case 12:M.prev=12,M.t0=M.catch(5),console.log(M.t0);case 15:return M.prev=15,ue(!1),M.finish(15);case 18:case"end":return M.stop()}},s,null,[[5,12,15,18]])}));return function(s,g){return r.apply(this,arguments)}}(),[Te,L,ue,ce]),Oe=(0,o.useMemo)(function(){var r=(0,fe.n)(he.Z,"4.24.0")>-1,s=r?{items:F.map(function(g){var d=G.current.get(g);return(0,a.Z)({key:g,title:d==null?void 0:d.title},d==null?void 0:d.stepProps)})}:{};return(0,l.jsx)("div",{className:"".concat(Z,"-steps-container ").concat(A).trim(),style:{maxWidth:Math.min(F.length*320,1160)},children:(0,l.jsx)(oe.Z,(0,a.Z)((0,a.Z)((0,a.Z)({},S),s),{},{current:u,onChange:void 0,children:!r&&F.map(function(g){var d=G.current.get(g);return(0,l.jsx)(oe.Z.Step,(0,a.Z)({title:d==null?void 0:d.title},d==null?void 0:d.stepProps),g)})}))})},[F,A,Z,u,S]),de=(0,w.J)(function(){var r,s=V.current[u];(r=s.current)===null||r===void 0||r.submit()}),We=(0,w.J)(function(){u<1||ce(u-1)}),ze=(0,o.useMemo)(function(){return t!==!1&&(0,l.jsx)(I.ZP,(0,a.Z)((0,a.Z)({type:"primary",loading:Y},t==null?void 0:t.submitButtonProps),{},{onClick:function(){var s;t==null||(s=t.onSubmit)===null||s===void 0||s.call(t),de()},children:U.getMessage("stepsForm.next","\u4E0B\u4E00\u6B65")}),"next")},[U,Y,de,t]),Be=(0,o.useMemo)(function(){return t!==!1&&(0,l.jsx)(I.ZP,(0,a.Z)((0,a.Z)({},t==null?void 0:t.resetButtonProps),{},{onClick:function(){var s;We(),t==null||(s=t.onReset)===null||s===void 0||s.call(t)},children:U.getMessage("stepsForm.prev","\u4E0A\u4E00\u6B65")}),"pre")},[U,We,t]),Ge=(0,o.useMemo)(function(){return t!==!1&&(0,l.jsx)(I.ZP,(0,a.Z)((0,a.Z)({type:"primary",loading:Y},t==null?void 0:t.submitButtonProps),{},{onClick:function(){var s;t==null||(s=t.onSubmit)===null||s===void 0||s.call(t),de()},children:U.getMessage("stepsForm.submit","\u63D0\u4EA4")}),"submit")},[U,Y,de,t]),Qe=(0,w.J)(function(){u>F.length-2||ce(u+1)}),Re=(0,o.useMemo)(function(){var r=[],s=u||0;if(s<1?F.length===1?r.push(Ge):r.push(ze):s+1===F.length?r.push(Be,Ge):r.push(Be,ze),r=r.filter(o.isValidElement),t&&t.render){var g,d={form:(g=V.current[u])===null||g===void 0?void 0:g.current,onSubmit:de,step:u,onPre:We};return t.render(d,r)}return t&&(t==null?void 0:t.render)===!1?null:r},[F.length,ze,de,Be,We,u,Ge,t]),He=(0,o.useMemo)(function(){return(0,xe.Z)(i.children).map(function(r,s){var g=r.props,d=g.name||"".concat(s),Fe=u===s,Ae=Fe?{contentRender:X,submitter:!1}:{};return(0,l.jsx)("div",{className:j()("".concat(Z,"-step"),A,(0,v.Z)({},"".concat(Z,"-step-active"),Fe)),children:(0,l.jsx)(Ze.Provider,{value:(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},Ae),ye),g),{},{name:d,step:s}),children:r})},d)})},[ye,A,Z,i.children,u,X]),Xe=(0,o.useMemo)(function(){return $?$(F.map(function(r){var s;return{key:r,title:(s=G.current.get(r))===null||s===void 0?void 0:s.title}}),Oe):Oe},[F,Oe,$]),Je=(0,o.useMemo)(function(){return(0,l.jsxs)("div",{className:"".concat(Z,"-container ").concat(A).trim(),style:N,children:[He,h?null:(0,l.jsx)(ge.Z,{children:Re})]})},[N,He,A,Z,h,Re]),we=(0,o.useMemo)(function(){var r={stepsDom:Xe,formDom:Je};return h?h(ee?ee(r):ne(r),Re):ee?ee(r):ne(r)},[Xe,Je,ne,h,Re,ee]);return H((0,l.jsx)("div",{className:j()(Z,A),children:(0,l.jsx)(D.Z.Provider,(0,a.Z)((0,a.Z)({},Ie),{},{children:(0,l.jsx)(ae.Provider,{value:{loading:Y,setLoading:ue,regForm:Ye,keyArray:F,next:Qe,formArrayRef:V,formMapRef:G,lastStep:Te,unRegForm:Ue,onFormFinish:Ke},children:we})}))}))}function ie(i){return(0,l.jsx)(re._Y,{needDeps:!0,children:(0,l.jsx)(Ee,(0,a.Z)({},i))})}ie.StepForm=p,ie.useForm=D.Z.useForm},86333:function(be,ve,e){e.d(ve,{G:function(){return ge}});var v=e(1413),a=e(4942),x=e(87462),z=e(67294),te=e(93696),W=e(62914),Q=function(P,j){return z.createElement(W.Z,(0,x.Z)({},P,{ref:j,icon:te.Z}))},re=z.forwardRef(Q),me=re,fe=e(28459),w=e(83062),k=e(93967),b=e.n(k),pe=e(98082),he=function(P){return(0,a.Z)({},P.componentCls,{display:"inline-flex",alignItems:"center",maxWidth:"100%","&-icon":{display:"block",marginInlineStart:"4px",cursor:"pointer","&:hover":{color:P.colorPrimary}},"&-title":{display:"inline-flex",flex:"1"},"&-subtitle ":{marginInlineStart:8,color:P.colorTextSecondary,fontWeight:"normal",fontSize:P.fontSize,whiteSpace:"nowrap"},"&-title-ellipsis":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",wordBreak:"keep-all"}})};function oe(D){return(0,pe.Xj)("LabelIconTip",function(P){var j=(0,v.Z)((0,v.Z)({},P),{},{componentCls:".".concat(D)});return[he(j)]})}var I=e(85893),ge=z.memo(function(D){var P=D.label,j=D.tooltip,xe=D.ellipsis,q=D.subTitle,o=(0,z.useContext)(fe.ZP.ConfigContext),m=o.getPrefixCls,T=m("pro-core-label-tip"),se=oe(T),l=se.wrapSSR,R=se.hashId;if(!j&&!q)return(0,I.jsx)(I.Fragment,{children:P});var f=typeof j=="string"||z.isValidElement(j)?{title:j}:j,p=(f==null?void 0:f.icon)||(0,I.jsx)(me,{});return l((0,I.jsxs)("div",{className:b()(T,R),onMouseDown:function(O){return O.stopPropagation()},onMouseLeave:function(O){return O.stopPropagation()},onMouseMove:function(O){return O.stopPropagation()},children:[(0,I.jsx)("div",{className:b()("".concat(T,"-title"),R,(0,a.Z)({},"".concat(T,"-title-ellipsis"),xe)),children:P}),q&&(0,I.jsx)("div",{className:"".concat(T,"-subtitle ").concat(R).trim(),children:q}),j&&(0,I.jsx)(w.Z,(0,v.Z)((0,v.Z)({},f),{},{children:(0,I.jsx)("span",{className:"".concat(T,"-icon ").concat(R).trim(),children:p})}))]}))})}}]);
